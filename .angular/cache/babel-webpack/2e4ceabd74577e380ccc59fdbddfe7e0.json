{"ast":null,"code":"import _classCallCheck from \"/Users/mac/Desktop/React/weather/weather/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/mac/Desktop/React/weather/weather/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/weather.service\";\nexport var AppComponent = /*#__PURE__*/(function () {\n  var AppComponent = /*#__PURE__*/function () {\n    function AppComponent(weatherService) {\n      _classCallCheck(this, AppComponent);\n\n      this.weatherService = weatherService;\n      /**\n       * List of weathers\n       */\n\n      this.weathers = []; // this.weatherService.getWeather(this.zipCode).subscribe((r) => {\n      //   console.log('ssss', r);\n      // });\n\n      this.getItems();\n    }\n    /**\n     * Delete the weather information of the selected position\n     *\n     * @param index position of the list\n     */\n\n\n    _createClass(AppComponent, [{\n      key: \"deleteWeather\",\n      value: function deleteWeather(index) {\n        this.weathers.splice(index, this.weathers.length);\n        localStorage.setItem('items', JSON.stringify(this.weathers));\n      }\n      /**\n       * Search the weather information for the entered zipcode\n       */\n\n    }, {\n      key: \"search\",\n      value: function search() {\n        var _this = this;\n\n        this.weatherService.getInfo(this.zipCode).subscribe(function (r) {\n          var exist = _this.weathers.find(function (weather) {\n            return r.name === weather.name;\n          });\n\n          if (!exist) {\n            r.zipCode = _this.zipCode;\n\n            _this.weathers.push(r);\n\n            localStorage.setItem('items', JSON.stringify(_this.weathers));\n          }\n\n          console.log('detalle', _this.weathers);\n        });\n      }\n      /**\n       * Get the list of searches saved in the localstorage\n       */\n\n    }, {\n      key: \"getItems\",\n      value: function getItems() {\n        if (JSON.parse(localStorage.getItem('items'))) {\n          this.weathers = JSON.parse(localStorage.getItem('items'));\n        }\n      }\n    }]);\n\n    return AppComponent;\n  }();\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.WeatherService));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"my-app\"]],\n    decls: 1,\n    vars: 0,\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"router-outlet\");\n      }\n    },\n    styles: [\"p[_ngcontent-%COMP%]{font-family:Lato}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}